PROMPT PERBAIKAN LENGKAP BOT DERIV TRADING

Saya memiliki bot Deriv Trading yang tidak berfungsi sama sekali. Semua tombol di Telegram bot dan web interface tidak memberikan respon apa-apa. Ketika saya mencoba memulai trading, tidak ada yang terjadi - tidak ada trade yang dibuka, tidak ada notifikasi menang/kalah, semuanya seperti simulasi yang mati.

MASALAH UTAMA:

1. Bot Telegram semua tombol tidak ada respon nyata
2. Web interface tidak menjalankan trading
3. Tidak ada trade yang benar-benar dibuka ke Deriv API
4. Tidak ada hasil trade menang/kalah yang muncul
5. Koneksi WebSocket ke Deriv mungkin putus atau tidak stabil
6. Signal trading tidak memicu eksekusi trade
7. Trading manager tidak menjalankan auto trading dengan benar

FILE-FILE YANG PERLU DIPERBAIKI:

Silakan perbaiki SEMUA file berikut secara lengkap dari awal hingga akhir:

1. deriv_ws.py - Perbaiki koneksi WebSocket ke Deriv, tambahkan error handling yang lebih baik, perbaiki reconnection logic, pastikan buy_contract benar-benar mengirim request ke Deriv API, tambahkan logging detail untuk debugging, perbaiki timeout handling

2. trading.py - Perbaiki TradingManager agar benar-benar eksekusi trade, perbaiki _execute_trade supaya tidak hanya log tapi benar-benar beli contract, perbaiki _on_contract_update untuk handle hasil trade, tambahkan validasi sebelum trade, perbaiki signal processing

3. telegram_bot.py - Perbaiki semua callback handler agar memberikan feedback nyata, perbaiki _cmd_autotrade untuk benar-benar start trading, perbaiki notifikasi trade ke user, tambahkan error handling dan user feedback

4. web_server.py - Perbaiki API endpoint /api/trade/place agar benar-benar eksekusi, perbaiki /api/auto-trade/start untuk trigger trading manager, tambahkan WebSocket untuk real-time updates, perbaiki session management

5. tick_analyzer.py - Pastikan signal yang dihasilkan benar-benar valid dan memicu trade

6. terminal_strategy.py - Pastikan signal terminal strategy benar-benar valid

7. tick_picker_strategy.py - Pastikan signal tick picker benar-benar valid

8. main.py - Pastikan inisialisasi semua komponen benar

REQUIREMENTS:

- Semua koneksi WebSocket harus NYATA ke Deriv API wss://ws.derivws.com
- Setiap trade HARUS benar-benar membeli contract di Deriv
- User HARUS menerima notifikasi real-time untuk setiap trade
- Error handling lengkap dengan logging detail
- Reconnection otomatis jika koneksi putus
- Validasi token API sebelum trading
- Timeout yang tepat untuk setiap request
- State management yang benar untuk trading session
- Balance update real-time dari Deriv
- Trade history yang tersimpan dengan benar

OUTPUT YANG DIHARAPKAN:

Untuk setiap file, berikan kode LENGKAP dari baris pertama hingga akhir tanpa menggunakan ellipsis atau skip apapun. Jangan hanya memberikan snippet, tapi file lengkap yang siap digunakan.

Jelaskan setiap perubahan signifikan yang dilakukan dan mengapa perubahan tersebut diperlukan untuk memperbaiki masalah.

Prioritaskan perbaikan pada:
1. Koneksi WebSocket yang stabil
2. Eksekusi trade yang nyata
3. Notifikasi real-time
4. Error handling
5. User feedback yang jelas

Mulai perbaiki dari file deriv_ws.py terlebih dahulu karena ini adalah fondasi koneksi ke Deriv API, lalu lanjutkan ke trading.py, telegram_bot.py, dan file-file lainnya secara berurutan.

Pastikan setelah perbaikan:
- User bisa login dengan token Deriv
- Bot bisa connect ke Deriv WebSocket
- Signal trading benar-benar memicu buy contract
- Trade terbuka dan tertutup dengan hasil nyata
- User menerima notifikasi di Telegram
- Web interface menampilkan data real-time
- Semua tombol berfungsi dengan baik

PENTING: Jangan skip satupun kode, tulis LENGKAP setiap file dari awal sampai akhir!